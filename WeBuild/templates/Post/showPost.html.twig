{% extends 'base.html.twig' %}

{% block body %}
<style>
                            
body{
    background: #F9F9F9;    
}
.testimonials {
 margin-top: 40px;    
}
.testimonial {
    margin-bottom: 3em;
    background: #fff;
    padding: 2em;
    border-right: 30px solid #F9F9F9;
    min-height: 169px;
}

.testimonial:before {
    content: "";
    position: absolute;
    z-index: -1;
    -ms-transform: skew(-3deg,-2deg);
    -webkit-transform: skew(-3deg,-2deg);
    -o-transform: skew(-3deg,-2deg);
    -moz-transform: skew(-3deg,-2deg);
    bottom: 14px;
    box-shadow: 0 16px 5px rgba(0,0,0,.04);
    max-width: 90%;
    width: 90%;
    height: 50px;
    left: 1px;
}

.avatar .img-circle {
    background: #fff;
    padding: 3px;
    border: 1px solid #c5c5c5;
}

.avatar img {
    max-width: 100%;
}

.img-circle {
    border-radius: 50%;
}

.testimonial h4, .testimonial h4 a {
    font-weight: 700;
}

.testimonial h4 {
    margin-bottom: 8px;
}

.testimonial .testimony-body {
    font-size: .9em;
} 
hr {
    margin-top: 20px;
    margin-bottom: 20px;
    border: 0;
    border-top: 1px solid #FFFFFF;
}
a {
    color: #82b440;
    text-decoration: none;
}
.blog-comment::before,
.blog-comment::after,
.blog-comment-form::before,
.blog-comment-form::after{
    content: "";
	display: table;
	clear: both;
}

.blog-comment{
    padding-left: 15%;
	padding-right: 15%;
}

.blog-comment ul{
	list-style-type: none;
	padding: 0;
}

.blog-comment img{
	opacity: 1;
	filter: Alpha(opacity=100);
	-webkit-border-radius: 4px;
	   -moz-border-radius: 4px;
	  	 -o-border-radius: 4px;
			border-radius: 4px;
}

.blog-comment img.avatar {
	position: relative;
	float: left;
	margin-left: 0;
	margin-top: 0;
	width: 65px;
	height: 65px;
}

.blog-comment .post-comments{
	border: 1px solid #eee;
    margin-bottom: 20px;
    margin-left: 85px;
	margin-right: 0px;
    padding: 10px 20px;
    position: relative;
    -webkit-border-radius: 4px;
       -moz-border-radius: 4px;
       	 -o-border-radius: 4px;
    		border-radius: 4px;
	background: #fff;
	color: #6b6e80;
	position: relative;
}

.blog-comment .meta {
	font-size: 13px;
	color: #aaaaaa;
	padding-bottom: 8px;
	margin-bottom: 10px !important;
	border-bottom: 1px solid #eee;
}

.blog-comment ul.comments ul{
	list-style-type: none;
	padding: 0;
	margin-left: 85px;
}

.blog-comment-form{
	padding-left: 15%;
	padding-right: 15%;
	padding-top: 40px;
}

.blog-comment h3,
.blog-comment-form h3{
	margin-bottom: 40px;
	font-size: 26px;
	line-height: 30px;
	font-weight: 800;
}  
.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%;
}   
body{
background:#ddd;
}
              
</style>


    
<div class="d-grid gap-2">
    <a href="addPost" class="btn btn-primary" role="button">ADD NEW POST</a>
  </div>
<div class="input-group">
    <form action="{{ path('searchPost') }}" method="GET" class="form-inline">
        <div class="form-group">
            <input type="text" name="keyword" class="form-control" placeholder="Chercher le post...">
        
        <button class="btn btn-primary" type="submit"><i class="fa fa-search"></i></button>
        <a  href="{{ path ('showPost') }}" class="btn btn-success tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Detail">
            <i class="fa fa-backward" aria-hidden="true"></i>
        </a>
        <a  href="{{ path ('list_post') }}" class="btn btn-danger tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Detail">
            <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
        </a>
        <div class="input-group">
            <form action="{{ path('searchPost') }}" method="GET" class="form-inline">
                <div class="form-group">
                    
</div>



<div class="container bootstrap snippets bootdey">
    <div class="container testimonials">
        <div class="row">
            {% if post is empty %}
            <p style="color: red;">Aucun post trouvé!</p>
            {% else %}
                {% for p in post %}
                    <!-- Affichage des détails du post -->
                {% endfor %}
            {% endif %}
        </div>
    </div>
</div>

        
        {% for p in post  %}
        <div class="col-md-4 testimonial">
            <center>
            <div class="row">
                <div class="avatar col-md-5">
                    <a href="#">
                      <img class="img-circle" class="center"  src="{{ asset ('front/img/logo.png')}}"" alt="Taylor Otwell">
                    </a>
                </div>
                <div class="pull-right btn-group-sm">
                    <a href="{{ path('editPost',{'id': p.Id}) }}" class="btn btn-success tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Edit">
                        <i class="fa fa-pencil"></i>
                    </a>
                    <a  href="{{ path('deletePost',{'id': p.Id}) }}" class="btn btn-danger tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Delete">
                        <i class="fa fa-close"></i>
                    </a>

                    <a  href="{{ path ('detailPost',{'id': p.Id}) }}" class="btn btn-warning tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Detail">
                        <i class="fa fa-comments-o" aria-hidden="true"></i>
                    </a>
                </div>
                
                <div class="testimonial-main col-md-7">
                    <h4 class="media-heading">{{p.titre}}</h4>
                    <p class="testimony-body">{{p.Date |date('Y-M-D') }}</p>
                   
                    <p class="testimony-body">{{p.description}}</p>
                </div>
            </div>


            <!-- Form for adding comments -->
            
            <div class="post-footer">
                <div class="input-group"> 
                    <input class="form-control" placeholder="Add a comment" type="text">
                    <span class="input-group-addon">
                        <a href='{{path('addCommentaire',{'id': p.Id})}}' ><i class="fa fa-edit"></i></a> 
                         
                       
                    </span>
                </div>

        
                
        </center>
        
        </div>
        {% endfor %}
    </div>
    
</div>  

{#   
<br>
<center>
<table border="5">
    <tr>
    <th> ID_Post </th>
    <th > Auteur</th>
    <th > Date</th>
    <th> Titre_Post </th>
    <th > Description</th>
    <th > ACTION</th>

    </tr>
    
   <tr>{% for p in post  %}</tr> 
    <td> {{p.Id}}</td>
    <td> {{p.Auteur}}</td>  
    <td> {{p.Date |date('d-m-Y') }}</td>  
    <td> {{p.titre}}</td>  
    <td> {{p.description}}</td>  

 <td><a href="{{ path('deletePost',{'id': p.Id}) }}">Delete</a>
    <a href="{{ path('editPost',{'id': p.Id}) }}">Edit</a></td>
  
    </table>
</center>

#}
{% endblock %}